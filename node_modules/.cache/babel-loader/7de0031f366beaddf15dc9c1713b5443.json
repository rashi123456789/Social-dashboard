{"ast":null,"code":"var _jsxFileName = \"/home/rashi/Documents/sem 8/project/social-dasboard/src/Login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from 'react-router-dom';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      axios.get(\"https://jsonplaceholder.typicode.com/users\").then(response => {\n        const users = response.data.find(ele => ele.email == this.state.email);\n\n        if (users) {\n          localStorage.setItem(\"storedId\", users.id);\n          this.setState({\n            users\n          });\n        } else {\n          alert(\"Email is not registered\");\n          this.setState({\n            email: ''\n          });\n        }\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      users: []\n    };\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, localStorage.length != 0 ? React.createElement(Redirect, {\n      to: `/userProfile/${localStorage.getItem(\"storedId\")}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      placeholder: \"enter email and press enter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/rashi/Documents/sem 8/project/social-dasboard/src/Login.js"],"names":["React","axios","Redirect","Login","Component","constructor","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","get","then","response","users","data","find","ele","email","state","localStorage","setItem","id","alert","render","console","log","length","getItem"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CACA;AACIC,EAAAA,WAAW,GACX;AACI;;AADJ,SASAC,YATA,GAScC,CAAD,IACb;AACI,WAAKC,QAAL,CAAc;AAAC,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAgBH,CAAC,CAACE,MAAF,CAASE;AAA1B,OAAd;AACH,KAZD;;AAAA,SAcAC,YAdA,GAccL,CAAD,IACb;AACIA,MAAAA,CAAC,CAACM,cAAF;AACAZ,MAAAA,KAAK,CAACa,GAAN,CAAU,4CAAV,EACCC,IADD,CACMC,QAAQ,IACd;AACI,cAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAT,CAAcC,IAAd,CAAmBC,GAAG,IAAIA,GAAG,CAACC,KAAJ,IAAa,KAAKC,KAAL,CAAWD,KAAlD,CAAd;;AACA,YAAGJ,KAAH,EACA;AACIM,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCP,KAAK,CAACQ,EAAvC;AACD,eAAKjB,QAAL,CAAc;AAAES,YAAAA;AAAF,WAAd;AACF,SAJD,MAMA;AACIS,UAAAA,KAAK,CAAC,yBAAD,CAAL;AACA,eAAKlB,QAAL,CAAc;AAACa,YAAAA,KAAK,EAAE;AAAR,WAAd;AACH;AACJ,OAdD;AAeH,KAhCD;;AAEI,SAAKC,KAAL,GACA;AACID,MAAAA,KAAK,EAAE,EADX;AAEIJ,MAAAA,KAAK,EAAC;AAFV,KADA;AAKH;;AA0BDU,EAAAA,MAAM,GACN;AACIC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQC,YAAY,CAACO,MAAb,IAAuB,CAAvB,GAA4B,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAG,gBAAeP,YAAY,CAACQ,OAAb,CAAqB,UAArB,CAAiC,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,GAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAM,MAAA,QAAQ,EAAE,KAAKnB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,IAAI,EAAC,OADT;AAEI,MAAA,EAAE,EAAC,OAFP;AAGI,MAAA,IAAI,EAAC,OAHT;AAII,MAAA,KAAK,EAAE,KAAKU,KAAL,CAAWD,KAJtB;AAKI,MAAA,QAAQ,EAAE,KAAKf,YALnB;AAMI,MAAA,WAAW,EAAC,6BANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ,CAJZ,CADJ;AAsBH;;AA5DL;;AA+DA,eAAeH,KAAf","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport {Redirect} from 'react-router-dom'\n\nclass Login extends React.Component \n{\n    constructor() \n    {\n        super()\n        this.state=\n        {\n            email: \"\",\n            users:[]\n        }\n    }\n\n    handleChange=(e)=> \n    {\n        this.setState({[e.target.name]:e.target.value})\n    }\n\n    handleSubmit=(e)=> \n    {\n        e.preventDefault()\n        axios.get(\"https://jsonplaceholder.typicode.com/users\")\n        .then(response => \n        {\n            const users = response.data.find(ele => ele.email == this.state.email)\n            if(users) \n            {\n                localStorage.setItem(\"storedId\", users.id)\n               this.setState({ users })\n            } \n            else \n            {\n                alert(\"Email is not registered\")\n                this.setState({email: ''})\n            } \n        })\n    }\n    render()\n    {\n        console.log(this.state)\n        return (\n            <div>\n                {\n                    localStorage.length != 0 ? (<Redirect to={`/userProfile/${localStorage.getItem(\"storedId\")}`} />) : \n                    (\n                        <div>\n                            <h2>Login</h2>\n                            <form onSubmit={this.handleSubmit}>\n                                <input\n                                    type=\"email\"\n                                    id=\"email\"\n                                    name=\"email\"\n                                    value={this.state.email}\n                                    onChange={this.handleChange}\n                                    placeholder=\"enter email and press enter\"\n                                />\n                            </form>\n                        </div>\n                    ) \n                }\n            </div>\n        )\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}